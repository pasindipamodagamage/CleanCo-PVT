<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CleanCO - Customer Dashboard</title>
    <link rel="icon" href="/static/assets/Company-logo.jpg">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="administrationDashboard.css">
    <link rel="stylesheet" href="customerDashboard.css">

</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light sticky-top">
    <div class="container">
        <img src="/static/assets/Company-logo.jpg" style="width: 45px; height: 45px;margin-right: 5px;" alt="">
        <a class="navbar-brand" href="index.html">CLEANCO</a>
        <h6 style="opacity: 0.4; margin-left: 20px; font-size: 10px"><i>Exceptional Cleaning Services for a Fresh and Pristine Space</i></h6>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="index.html#services">Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="index.html#feedback">Review</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="" id="logoutBtn">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <div class="row">
        <!-- User Profile and Navigation -->
        <div class="col-lg-3 mb-4">
            <div class="user-profile text-center">
                <img id="user-avatar" src="" alt="User Avatar"
                     class="user-avatar mb-3" style="height:100px; width:100px; object-fit:cover; border-radius:50%;">
                <h4 id="user-name" class="fw-bold mb-0"></h4>
                <p id="user-role" class="text-muted mb-0"></p>
            </div>

            <div class="sidebar mt-4">
                <a href="#" class="sidebar-link active" id="dashboardLink">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <a href="#" class="sidebar-link" id="updateProfileBtn">
                    <i class="fas fa-user-edit"></i> Update Profile
                </a>
                <a href="#" class="sidebar-link" id="newBookingLink">
                    <i class="fas fa-plus-circle"></i> New Booking
                </a>
                <a href="#" class="sidebar-link" id="paymentsLink">
                    <i class="fas fa-credit-card"></i> Payments
                </a>
                <a href="#" class="sidebar-link" id="feedbackLink">
                    <i class="fas fa-comment"></i> Feedback
                </a>
                <a href="index.html#contact" class="sidebar-link">
                    <i class="fas fa-question-circle"></i> FAQs
                </a>
                <a href="index.html#callOfAction" class="sidebar-link">
                    <i class="fas fa-headset"></i> Support
                </a>
            </div>
        </div>

        <!-- Main Dashboard Content -->
        <div class="col-lg-9">
            <!-- Dashboard Overview -->
            <div class="main-content" id="dashboardContent">
                <h2 class="fw-bold mb-4">Dashboard Overview</h2>

                <div class="row mb-4">
                    <div class="col-md-4">
                        <div class="card stat-card">
                            <div class="card-body">
                                <h5 class="card-title">Upcoming Booking</h5>
                                <p class="card-value">April 18, 2025</p>
                                <p class="card-text">9:00 AM - 12:00 PM</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card stat-card">
                            <div class="card-body">
                                <h5 class="card-title">Active Plan</h5>
                                <p class="card-value">Premium Plan</p>
                                <p class="card-text">8 services remaining</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card stat-card">
                            <div class="card-body">
                                <h5 class="card-title">Reward Points</h5>
                                <p class="card-value">1,250 pts</p>
                                <p class="card-text">$12.50 value</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Recent Bookings</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Service</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>April 5, 2025</td>
                                    <td>Premium Cleaning</td>
                                    <td><span class="badge bg-success">Completed</span></td>
                                    <td><button class="btn btn-sm btn-outline-primary feedback-btn">Feedback</button></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- My Profile Section -->
            <div id="updateProfileContent" class="main-content d-none" >
                <h2 class="mb-4">My Profile</h2>
                <div class="card">
                    <div class="card-body">
                        <form id="updateProfileForm">
                            <div class="row mb-4">
                                <div class="col-md-3 text-center">
                                    <img id="profilePicPreview" src="/static/assets/user.png" alt="Profile Picture"
                                         class="profile-picture mb-3" style="width: 150px; height: 150px; object-fit: cover; border-radius: 50%;">
                                    <input type="file" id="profilePicInput" name="profilePicFile" accept="image/*" class="form-control mb-2">
                                    <input type="hidden" id="profilePic" name="profilePic">
                                    <!--                                    <button type="button" id="uploadProfilePicBtn" class="btn btn-sm btn-primary">Upload</button>-->
                                </div>

                                <div class="col-md-9">
                                    <!-- Name -->
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="firstName" class="form-label">First Name</label>
                                            <input type="text" class="form-control" id="firstName" name="name.firstName" placeholder="First Name">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="lastName" class="form-label">Last Name</label>
                                            <input type="text" class="form-control" id="lastName" name="name.lastName" placeholder="Last Name">
                                        </div>
                                    </div>

                                    <!-- NIC -->
                                    <div class="mb-3">
                                        <label for="nicNumber" class="form-label">NIC Number</label>
                                        <input type="text" class="form-control" id="nicNumber" name="nicNumber" placeholder="NIC Number">
                                    </div>

                                    <!-- Address -->
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="locationNumber" class="form-label">Address Line 1 (Location Number)</label>
                                            <input type="text" class="form-control" id="locationNumber" name="address.locationNumber" placeholder="Location Number">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="street" class="form-label">Address Line 2 (Street)</label>
                                            <input type="text" class="form-control" id="street" name="address.street" placeholder="Street">
                                        </div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="city" class="form-label">City</label>
                                            <input type="text" class="form-control" id="city" name="address.city" placeholder="City">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="district" class="form-label">District</label>
                                            <select class="form-select" id="district" name="address.district">
                                                <option value="">Select District</option>
                                                <option value="Colombo">Colombo</option>
                                                <option value="Gampaha">Gampaha</option>
                                                <!-- Add other districts as needed -->
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Contacts -->
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="primaryContact" class="form-label">Primary Contact</label>
                                            <input type="tel" class="form-control" id="primaryContact" name="primaryContact" placeholder="Primary Contact">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="secondaryContact" class="form-label">Secondary Contact</label>
                                            <input type="tel" class="form-control" id="secondaryContact" name="secondaryContact" placeholder="Secondary Contact">
                                        </div>
                                    </div>

                                    <!-- Email -->
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Email">
                                    </div>

                                    <!-- Change Password -->
                                    <hr>
                                    <h5>Change Password</h5>
                                    <div class="mb-3">
                                        <label for="currentPassword" class="form-label">Current Password</label>
                                        <input type="password" class="form-control" id="currentPassword" name="currentPassword" placeholder="Current Password">
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="password" class="form-label">New Password</label>
                                            <input type="password" class="form-control" id="password" name="password" placeholder="New Password">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                                            <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Password">
                                        </div>
                                    </div>

                                    <!-- Save Button -->
                                    <div class="text-end">
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- New Booking Form -->
            <div class="main-content d-none" id="newBookingContent">
                <h2 class="fw-bold mb-4">New Booking</h2>

                <div class="row g-4" id="cartServiceList">
                    <a href="#" class="btn btn-outline-primary w-100 mt-3 buy-plan-btn"
                       data-category-id="${item.id}"
                       data-category-name="${item.categoryName}">Buy Plan</a>                </div>
            </div>

            <!-- Booking Modal -->
            <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content p-3">
                        <div class="modal-header">
                            <h5 class="modal-title" id="bookingModalLabel">Book This Service</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="bookingForm">
                                <input type="hidden" id="bookingCategoryId">
                                <div class="mb-3">
                                    <label for="bookingDate" class="form-label">Choose Date</label>
                                    <input type="date" class="form-control" id="bookingDate" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Confirm Booking</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payments Section -->
            <div class="main-content d-none" id="paymentsContent">
                <h2 class="fw-bold mb-4">Payment Methods</h2>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Saved Payment Methods</h5>
                    </div>
                    <div class="card-body">
                        <div class="list-group">
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <i class="fab fa-cc-visa fa-2x me-3 text-primary"></i>
                                        <span>Visa ending in 4242</span>
                                    </div>
                                    <div>
                                        <button class="btn btn-sm btn-outline-danger">Remove</button>
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <i class="fab fa-paypal fa-2x me-3 text-primary"></i>
                                        <span>PayPal: lisa.smith@example.com</span>
                                    </div>
                                    <div>
                                        <button class="btn btn-sm btn-outline-danger">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Add Payment Method</h5>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs mb-4" id="paymentMethodTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="creditCard-tab" data-bs-toggle="tab" data-bs-target="#creditCard" type="button">Credit Card</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="paypal-tab" data-bs-toggle="tab" data-bs-target="#paypal" type="button">PayPal</button>
                            </li>
                        </ul>

                        <div class="tab-content" id="paymentMethodTabContent">
                            <div class="tab-pane fade show active" id="creditCard" role="tabpanel">
                                <form id="creditCardForm">
                                    <div class="mb-3">
                                        <label for="cardNumber" class="form-label">Card Number</label>
                                        <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="expiryDate" class="form-label">Expiry Date</label>
                                            <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="cvv" class="form-label">CVV</label>
                                            <input type="text" class="form-control" id="cvv" placeholder="123" required>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="cardName" class="form-label">Name on Card</label>
                                        <input type="text" class="form-control" id="cardName" placeholder="Lisa Smith" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Save Card</button>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="paypal" role="tabpanel">
                                <div class="text-center py-4">
                                    <i class="fab fa-paypal fa-5x text-primary mb-3"></i>
                                    <p class="mb-4">You'll be redirected to PayPal to complete your payment method setup.</p>
                                    <button class="btn btn-primary">Connect with PayPal</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Payment History</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Service</th>
                                    <th>Method</th>
                                    <th>Status</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>April 5, 2025</td>
                                    <td>$120.00</td>
                                    <td>Premium Cleaning</td>
                                    <td>Visa 4242</td>
                                    <td><span class="badge bg-success">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>March 22, 2025</td>
                                    <td>$155.00</td>
                                    <td>Premium + Windows</td>
                                    <td>PayPal</td>
                                    <td><span class="badge bg-success">Completed</span></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Feedback Section -->
            <div class="main-content d-none" id="feedbackContent">
                <h2 class="fw-bold mb-4">Feedback</h2>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Leave Feedback</h5>
                    </div>
                    <div class="card-body">
                        <form id="feedbackForm">
                            <div class="mb-3">
<!--                                booking name and date and time-->
                                <label class="form-label">Select Booking</label>
                                <input type="text" hidden="hidden">
                            </div>
                            <div class="mb-3">
                                <label for="rating" class="form-label">Rating</label>
                                <div class="rating-stars">
                                    <i class="far fa-star" data-rating="1"></i>
                                    <i class="far fa-star" data-rating="2"></i>
                                    <i class="far fa-star" data-rating="3"></i>
                                    <i class="far fa-star" data-rating="4"></i>
                                    <i class="far fa-star" data-rating="5"></i>
                                    <input type="hidden" id="rating" name="rating" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="feedbackText" class="form-label">Your Feedback</label>
                                <textarea class="form-control" id="feedbackText" rows="4" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit Feedback</button>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Your Previous Feedback</h5>
                    </div>
                    <div class="card-body">
                        <div class="feedback-item mb-4">
                            <div class="d-flex justify-content-between mb-2">
                                <h5>Premium Cleaning - April 5, 2025</h5>
                                <div class="text-warning">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </div>
                            <p>The cleaning was very thorough and the team was professional. Would definitely book again!</p>
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-sm btn-outline-primary me-2">Edit</button>
                                <button class="btn btn-sm btn-outline-danger">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Custom JavaScript -->
<script src="customerDashboard.js"></script>

</body>
</html>